{"version":3,"sources":["app.js","auth/signin.js","auth/userlinks.js","currentuser.js","sessiontoken.js","users.service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(()=>{\r\n\tvar app=angular.module('twitchproject',[\r\n\t\t'ui.router',\r\n\t\t'twitchproject.auth.signin'\r\n\t]);\r\n\tfunction config($urlRouterProvider){\r\n\t\t$urlRouterProvider.otherwise('/signin');\r\n\t}\r\n\tconfig.$inject=['$urlRouterProvider'];\r\n\tapp.config(config);\r\n\tapp.constant('API_BASE','//localhost:3000/api/');\r\n})();","(()=>{\r\n\tangular\r\n\t\t.module('twitchproject.auth.signin',['ui.router'])\r\n\t\t.config(signinConfig);\r\n\tfunction signinConfig(stateProvider) {\r\n\t\tstateProvider\r\n\t\t\t.state('signin',{\r\n\t\t\t\turl:'/signin',\r\n\t\t\t\ttemplateUrl:'/components/auth/signin.html',\r\n\t\t\t\tcontroller:SigninController,\r\n\t\t\t\tcontrollerAs:'ctrl',\r\n\t\t\t\tbindToController:this\r\n\t\t\t});\r\n\t}\r\n\tsigninConfig.$inject=['$stateProvider'];\r\n\tfunction SigninController($state,UsersService){\r\n\t\tthis.user={};\r\n\t\tthis.login=()=>{\r\n\t\t\tUsersService.login(this.user).then(res=>{\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\t$state.go('define');\r\n\t\t\t});\r\n\t\t};\r\n\t}\r\n\tSigninController.$inject=['$state','UsersService'];\t\r\n})();\r\n","(()=>{\r\n\tangular.module('twitchproject')\r\n\t.directive('userlinks',function(){\r\n\t\tUserLinksController.$inject=['$state','CU','SessionToken'];\r\n\t\tfunction UserLinksController($state,CU,SessionToken) {\r\n\t\t\tthis.user=()=>CU.get()||{};\r\n\t\t\tthis.signedIn=()=>!!(this.user().id);\r\n\t\t\tthis.logout=()=>{\r\n\t\t\t\tCU.clear();\r\n\t\t\t\tSessionToken.clear();\r\n\t\t\t\t$state.go('signin');\r\n\t\t\t}\r\n\t\t\tthis.isLinked=()=>!!(this.user().twitchId);\r\n\t\t}\r\n\t\treturn{\r\n\t\t\tscope:{},\r\n\t\t\tcontroller:UserLinksController,\r\n\t\t\tcontrollerAs:'ctrl',\r\n\t\t\tbindToController:true,\r\n\t\t\ttemplateUrl:'/components/auth/userlinks.html'\r\n\t\t}\r\n\t})\r\n})();","(function(){\r\n\tangular.module('twitchproject')\r\n\t\t.service('CU',['$window',function($window){\r\n\t\t\tfunction CurrentUser(){\r\n\t\t\t\tvar cu=$window.localStorage.getItem('currentUser');\r\n\t\t\t\tif(cu&&cu!=='undefined')this.cu=JSON.parse($window.localStorage.getItem('currentUser'));\r\n\t\t\t}\r\n\t\t\tCurrentUser.prototype.set = function(user) {\r\n\t\t\t\tthis.cu=user;\r\n\t\t\t\t$window.localStorage.setItem('currentUser',JSON.stringify(user));\r\n\t\t\t};\r\n\t\t\tCurrentUser.prototype.get = function() {\r\n\t\t\t\treturn this.cu||{};\r\n\t\t\t};\r\n\t\t\tCurrentUser.prototype.clear = function() {\r\n\t\t\t\tthis.cu=undefined;\r\n\t\t\t\t$window.localStorage.removeItem('currentUser');\r\n\t\t\t};\r\n\t\t\tCurrentUser.prototype.isSignedIn = function() {\r\n\t\t\t\treturn !!this.get().id;\r\n\t\t\t};\r\n\t\t\treturn new CurrentUser();\r\n\t\t}]);\r\n})();","(function(){\r\n\tangular.module('twitchproject')\r\n\t\t.service('SessionToken',['$window',function($window){\r\n\t\t\tfunction SessionToken(){\r\n\t\t\t\tthis.sessionToken=$window.localStorage.getItem('sessionToken');\r\n\t\t\t}\r\n\t\t\tSessionToken.prototype.set = function(token) {\r\n\t\t\t\tthis.sessionToken=token;\r\n\t\t\t\t$window.localStorage.setItem('sessionToken',token);\r\n\t\t\t};\r\n\t\t\tSessionToken.prototype.get = function() {\r\n\t\t\t\treturn this.sessionToken;\r\n\t\t\t};\r\n\t\t\tSessionToken.prototype.clear = function() {\r\n\t\t\t\tthis.sessionToken=undefined;\r\n\t\t\t\t$window.localStorage.removeItem('sessionToken');\r\n\t\t\t};\r\n\t\t\treturn new SessionToken();\r\n\t\t}]);\r\n})();","(function(){\r\n\tangular.module('twitchproject')\r\n\t\t.service('UsersService',[\r\n\t\t\t'$http','API_BASE','SessionToken','CU',\r\n\t\t\tfunction($http,API_BASE,SessionToken,CU){\r\n\t\t\t\tfunction UsersService(){\r\n\r\n\t\t\t\t}\r\n\t\t\t\tUsersService.prototype.create = function(user) {\r\n\t\t\t\t\tvar userPromise=$http.post(API_BASE+'user',{\r\n\t\t\t\t\t\tuser:user\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuserPromise.then(function(res){\r\n\t\t\t\t\t\tSessionToken.set(res.data.sessionToken);\r\n\t\t\t\t\t\tCU.set(res.data.user);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn userPromise;\r\n\t\t\t\t};\r\n\t\t\t\tUsersService.prototype.login = function(user) {\r\n\t\t\t\t\tvar loginPromise=$http.post(API_BASE+'login',{\r\n\t\t\t\t\t\tuser:user\r\n\t\t\t\t\t});\r\n\t\t\t\t\tloginPromise.then(function(res){\r\n\t\t\t\t\t\tSessionToken.set(res.data.sessionToken);\r\n\t\t\t\t\t\tCU.set(res.data.user);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn loginPromise;\r\n\t\t\t\t};\r\n\t\t\t\tUsersService.prototype.link = function() {\r\n\t\t\t\t};\r\n\t\t\t\treturn new UsersService();\r\n\t\t\t}\r\n\t\t]);\r\n})();"]}